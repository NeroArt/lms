let s=parseInt(localStorage.getItem("vista_indice"));if(localStorage.getItem("indicesViews")){let a=localStorage.getItem("indicesViews"),n=JSON.parse(a),i=n[2];console.log(i.id),console.log(i.vista_guardada);let o=n.find(t=>t.id===s),c=i.id,e=i.vista_guardada===1;c!=s&&e&&l(o.variable_ruta),c!=s&&!e&&l(o.variable_ruta)}else alert("No se ha creado ningun curso, se te redirecionara al panel de control!!"),window.location.href=route("home");let r=localStorage.getItem("curso_id");document.getElementById("myForm").addEventListener("submit",a=>{a.preventDefault();const n=route("seccion3-store"),i=new FormData(a.target),o=Object.fromEntries(i.entries());o.guests=[];for(let e=0;e<3;e++){const t={};t.tipo_objetivo=document.getElementById(`tipo_objetivo[${e}]`).value,t.descripcion=document.getElementById(`descripcion[${e}]`).value,t.sujeto=document.getElementById(`sujeto[${e}]`).value,t.accion=document.getElementById(`accion[${e}]`).value,t.condicion=document.getElementById(`condicion[${e}]`).value,t.cursos_id=parseInt(r),o.guests.push(t)}o.cursos_id=parseInt(r),console.log(o);const c={method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify(o)};fetch(n,c).then(e=>e.json()).then(e=>{const t=route("seccion3b-create");console.log(e);let d=e.dataObjetivos,u=!1;localStorage.setItem("dataObjetivos",JSON.stringify(d)),localStorage.setItem("bandera",JSON.stringify(u)),window.location.href=t})});function l(a){window.location.href=route(a)}
